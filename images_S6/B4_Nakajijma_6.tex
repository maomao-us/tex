\input{texheder.tex}
\usepackage{setspace} % setspaceパッケージのインクルード
\usepackage{enumitem}
\usepackage{grffile}
\usepackage{url}
\usepackage{diagbox}

%「Weekly Report」
\newcommand{\Weekly}[5]{
\twocolumn[
    \begin{center}
    \bf
    第 #1 回　Weekly Report\\
    \huge
    スマートフォンのスイング動作に潜在する個人特性\\
    \LARGE
    --- フルフルによる個人認証 ---\\

    \end{center}
    \begin{flushright}
        #2 月\ \ \  #3 日 \ \ \ #4 \
        #5
    \end{flushright}
    ]
}
%\setstretch{0.5} % ページ全体の行間を設定

\begin{document}

    \Weekly{6}{5}{17}{(火)}{\ 中島　基晴}

    % 1章
    \section{今週までの作業内容}

        \begin{itemize}
            \item 計測データの収集
            \item 極値の抽出
            \item 検定
            \item 抽出及び検定プログラムの作成
        \end{itemize}

    % 2章
        \section{極値を抽出する際のルール}

            先週では極値を抽出する時，あるステップ数のデータを中心としてそのデータを含めて
            前後それぞれ３０個のデータを抜き取り，計６１個のデータのなかで最小値のデータと
            中心としたデータが一致していればそのデータを極値として抽出すると記述した．
            しかし新たに収集したデータで前後の抜き取り範囲N = 30個では広すぎてうまく
            抽出できないデータがあった．
            そこで今後は抜き取り範囲 N = 20個に変更し，極値抽出を行う．

            また，これまでは一度に２０回の計測を行っていたが，今後は一度に１０回の計測を行い
            これを２日かけて一人あたり計２０個のデータを収集することにした．

    % 3章
    \section{抽出及び検定プログラムの作成}

        抽出及び検定プログラムじたいはすでに作成していたが，それは一人分のデータだけしか
        処理することができなかったため，全員分のデータを扱えるように書き直した．
        このプログラム作成後に，今日までに収集したデータで実行してみたがあるエラーメッセージが
        表示された．\\

        pandas.errors.ParserError: Error tokenizing data. C error: Buffer overflow caught - possible malformed input file.\\

        このエラーは読み込んだ csv ファイルに問題があり，その問題は C言語由来のものであるということである．
        調べてみた結果，csv データを読み込む際は \\ \\
        pandas.read\_csv("csv ファイル名")\\ \\
        とプログラムに書くが，
        これは C 言語で処理を行っているらしい．
        なぜ Python で処理しないのかははっきりとはしていないが，説として C 言語の方が処理速度が速いから
        という理由でデフォルトが C 言語になっているのではというものがある．
        この問題は処理を Python に変更すれば解決できるそうなので変更してみた結果，
        上記のエラーメッセージは表示されなくなった．

        他にもエラーはあった．これは検定の際に行う母平均の差の検定由来のエラーである．
        スイング動作は絶対に２回以上行うので少なくとも２つ以上の極値を抽出できると思われたが，
        z 座標軸方向は人によって変化が乏しいため１つしか抽出できないときもある．
        そして母平均の差の検定は最終的にt 分布の数票と照らし合わせて結さがあるかどうかを判断するのだが，
        ある２つの母集団からそれぞれm，n のデータを抽出した時，以下の条件を満たさなければならない．
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        \begin{equation}
            m + n - 2 >= 1
        \end{equation}
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        つまりある２つの母集団から抽出したデータ数がどちらも１つの場合，
        この条件を満たさないためエラーが現れた．
        以上の理由から極値の抽出では抽出した数が１つのものは本研究に用いないことにした．

        \section{検定結果}

        これも先週の進捗報告ファイルに記述したが，同じ人から得たデータ同士で検定を行った．
        このときは時間の問題で大雑把な報告になったが，今回は各自の検定結果を得ることができたので
        報告する．扱ったデータは２〜４スイングでは一度に２０回計測したデータ，５回スイングは一度に
        １０回計測を２回行って得たデータであり，人によって計測を行っていないスイング動作が存在する．
        また５回スイングに関しては１０回計測を１回しか行っていない人もいるがこれも検定をおこない結果を示す．
        計測を行った方を以下に示す．
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        \begin{itemize}
            \item $B4_A$
            \item $B4_B$
            \item $B4_C$
            \item $B4_D$
            \item $B4_E$
            \item $M1M$
            \item $M1F_A$
            \item $M1F_B$
            % \item $P$
        \end{itemize}
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

        B4 はそのままの意味でB4生，M1F はM1生の女子，M1M はM1生の男子である．
        そして次ページの各表は縦方向がスイング動作の数を表し，横方向が各座標軸ｘ，ｙ，ｚと絶対加速度 abs を表す．
        また分数は分母が計測データ数，分子が有意差がなかったデータ数である．
        今回のデータに用いたデータは本研究で扱わないが，この有意差がなかったデータ数が
        本研究で取り扱うデータになる．

        各表の２〜４回スイングのけっかを見るとわかるが，２０回計測による影響は少ない．
        逆に５回スイングの１０回計測を２回に分けて行うと人によって差が大きい．
        これは先週黒岩先生がおっしゃったように同じ振り方を意識して行わずに
        ただスイング動作を行わせたことで生じた差だと考えている．
        また，計測を一度に得ず，複数回に分けて行ったほうがより現実に即しているので
        １０回計測を２回に分けて計２０個の計測データを収集する．
        また計測の際はすべての振り方を統一するように意識してもらい，そのために最初に
        数回練習を行い，すべての振り方が統一されているかを確認する．
        確認方法は一番最初の進捗で話したように計測アプリ「phyphox」で計測を行うが，
        このアプリは計測を行った後，そのデータを消去せずにもう一度計測を行うと
        前回の計測データを残したまま計測できるので比較することができる．
        これを用いてそれぞれのグラフの極値の大きさをみて判断する．

    \section{本研究用2回スイングデータの検定結果}

        8人分の2回スイング動作の計測データを得たので以下に示す．

    % 4章
    \section{今後の予定}
        データの収集

    % 5章
    \section{お願い}
        私の研究は皆さんのデータが必要です．
        このコロナ禍で真に勝手なお願いですが
        学校に来てデータ収集に協力してください．
        もしくはお宅訪問の許可をお願いします．
    
    % 6章
    \section{参考文献}
        \url{https://stackoverflow.com/questions/33998740/error-in-reading-a-csv-file-in-pandascparsererror-error-tokenizing-data-c-err}\\

        \url{https://punhundon-lifeshift.com/engine_python}

        \newpage
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        \begin{table}[tb]
            \caption{B4_Aの検定結果}
            \vspace{0.5cm}
            \centering
            \begin{tabular}{|c|c|c|c|c|}
                \hline
                \diagbox{}{} & x & y & z & abs \\\hline
                2回 & 20 / 20 & 20 / 20 & 14 / 20 & 20 / 20 \\
                3回 & なし & なし & なし & なし \\
                4回 & なし & なし & なし & なし \\
                5回 & 10 / 20 & 15 / 20 & 11 / 20 & 17 / 20 \\
                \hline
            \end{tabular}
        \end{table}
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        \begin{table}[tb]
            \caption{B4_Bの検定結果}
            \vspace{0.5cm}
            \centering
            \begin{tabular}{|c|c|c|c|c|}
                \hline
                \diagbox{}{} & x & y & z & abs \\\hline
                2回 & 19 / 20 & 18 / 20 & 20 / 20 & 20 / 20 \\
                3回 & なし & なし & なし & なし \\
                4回 & なし & なし & なし & なし \\
                5回 & 15 / 20 & 7 / 20 & 14 / 20 & 12 / 20 \\
                \hline
            \end{tabular}
        \end{table}
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        \begin{table}[tb]
            \caption{B4_Cの検定結果}
            \vspace{0.5cm}
            \centering
            \begin{tabular}{|c|c|c|c|c|}
                \hline
                \diagbox{}{} & x & y & z & abs \\\hline
                2回 & なし & なし & なし & なし \\
                3回 & なし & なし & なし & なし \\
                4回 & なし & なし & なし & なし \\
                5回 & 20 / 20 & 15 / 20 & 19 / 20 & 9 / 20 \\
                \hline
            \end{tabular}
        \end{table}
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        \begin{table}[tb]
            \caption{B4_Dの検定結果}
            \vspace{0.5cm}
            \centering
            \begin{tabular}{|c|c|c|c|c|}
                \hline
                \diagbox{}{} & x & y & z & abs \\\hline
                2回 & 20 / 20 & 20 / 20 & 20 / 20 & 20 / 20 \\
                3回 & 20 / 20 & 19 / 20 & 17 / 20 & 18 / 20 \\
                4回 & なし & なし & なし & なし \\
                5回 & 12 / 20 & 15 / 20 & 10 / 20 & 13 / 20 \\
                \hline
            \end{tabular}
        \end{table}
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        \begin{table}[tb]
            \caption{B4_Eの検定結果}
            \vspace{0.5cm}
            \centering
            \begin{tabular}{|c|c|c|c|c|}
                \hline
                \diagbox{}{} & x & y & z & abs \\\hline
                2回 & 20 / 20 & 20 / 20 & 18 / 20 & 20 / 20 \\
                3回 & 20 / 20 & 19 / 20 & 19 / 20 & 18 / 20 \\
                4回 & 19 / 20 & 17 / 20 & 19 / 20 & 20 / 20 \\
                5回 & 17 / 20 & 10 / 20 & 16 / 20 & 17 / 20 \\
                \hline
            \end{tabular}
        \end{table}
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        \begin{table}[tb]
            \caption{M1Mの検定結果}
            \vspace{0.5cm}
            \centering
            \begin{tabular}{|c|c|c|c|c|}
                \hline
                \diagbox{}{} & x & y & z & abs \\\hline
                2回 & 17 / 20 & 15 / 20 & 16 / 20 & 17 / 20 \\
                3回 & なし & なし & なし & なし \\
                4回 & なし & なし & なし & なし \\
                5回 & 12 / 20 & 6 / 20 & 12 / 20 & 8 / 20 \\
                \hline
            \end{tabular}
        \end{table}
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        \begin{table}[tb]
            \caption{M1F _Aの検定結果}
            \vspace{0.5cm}
            \centering
            \begin{tabular}{|c|c|c|c|c|}
                \hline
                \diagbox{}{} & x & y & z & abs \\\hline
                2回 & 20 / 20 & 20 / 20 & 18 / 20 & 20 / 20 \\
                3回 & 20 / 20 & 19 / 20 & 19 / 20 & 18 / 20 \\
                4回 & 19 / 20 & 17 / 20 & 19 / 20 & 20 / 20 \\
                5回 & 17 / 20 & 10 / 20 & 16 / 20 & 17 / 20 \\
                \hline
            \end{tabular}
        \end{table}
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        \begin{table}[tb]
            \caption{M1F_Bの検定結果}
            \vspace{0.5cm}
            \centering
            \begin{tabular}{|c|c|c|c|c|}
                \hline
                \diagbox{}{} & x & y & z & abs \\\hline
                2回 & 18 / 20 & 18 / 20 & 20 / 20 & 20 / 20 \\
                3回 & 20 / 20 & 20 / 20 & 19 / 20 & 20 / 20 \\
                4回 & 19 / 20 & 13 / 20 & 16 / 20 & 17 / 20 \\
                5回 & 17 / 20 & 10 / 20 & 16 / 20 & 14 / 20 \\
                \hline
            \end{tabular}
        \end{table}
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        % \begin{table}[tb]
        %     \caption{Pの検定結果}
        %     \vspace{0.5cm}
        %     \centering
        %     \begin{tabular}{|c|c|c|c|c|}
        %         \hline
        %         \diagbox{}{} & x & y & z & abs \\\hline
        %         2回 & 20 / 20 & 20 / 20 & 19 / 20 & 20 / 20 \\
        %         3回 & なし & なし & なし & なし \\
        %         4回 & なし & なし & なし & なし \\
        %         5回 & 10 / 10 & 9 / 10 & 9 / 10 & 10 / 10 \\
        %         \hline
        %     \end{tabular}
        % \end{table}
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

        \clearpage
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        \begin{table}[tb]
            \caption{B4_Aの2回スイング検定結果}
            \vspace{0.5cm}
            \centering
            \begin{tabular}{|c|c|c|c|c|}
                \hline
                \diagbox{}{} & x & y & z & abs \\\hline
                2回 & 20 / 20 & 14 / 20 & 18 / 20 & 15 / 20 \\
                \hline
            \end{tabular}
        \end{table}
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        \begin{table}[tb]
            \caption{B4_Bの2回スイング検定結果}
            \vspace{0.5cm}
            \centering
            \begin{tabular}{|c|c|c|c|c|}
                \hline
                \diagbox{}{} & x & y & z & abs \\\hline
                2回 & 19 / 20 & 10 / 20 & 18 / 20 & 19 / 20 \\
                \hline
            \end{tabular}
        \end{table}
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        \begin{table}[tb]
            \caption{B4_Cの2回スイング検定結果}
            \vspace{0.5cm}
            \centering
            \begin{tabular}{|c|c|c|c|c|}
                \hline
                \diagbox{}{} & x & y & z & abs \\\hline
                2回 & 20 / 20 & 18 / 19 & 20 / 20 & 16 / 20 \\
                \hline
            \end{tabular}
        \end{table}
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        \begin{table}[tb]
            \caption{B4_Dの2回スイング検定結果}
            \vspace{0.5cm}
            \centering
            \begin{tabular}{|c|c|c|c|c|}
                \hline
                \diagbox{}{} & x & y & z & abs \\\hline
                2回 & 20 / 20 & 20 / 20 & 20 / 20 & 20 / 20 \\
                \hline
            \end{tabular}
        \end{table}
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        \begin{table}[tb]
            \caption{B4_Eの2回スイング検定結果}
            \vspace{0.5cm}
            \centering
            \begin{tabular}{|c|c|c|c|c|}
                \hline
                \diagbox{}{} & x & y & z & abs \\\hline
                2回 & 20 / 20 & 20 / 20 & 19 / 20 & 20 / 20 \\
                \hline
            \end{tabular}
        \end{table}
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        \begin{table}[tb]
            \caption{M1Mの2回スイング検定結果}
            \vspace{0.5cm}
            \centering
            \begin{tabular}{|c|c|c|c|c|}
                \hline
                \diagbox{}{} & x & y & z & abs \\\hline
                2回 & 20 / 20 & 15 / 20 & 19 / 20 & 19 / 20 \\
                \hline
            \end{tabular}
        \end{table}
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        \begin{table}[tb]
            \caption{M1F_Aの2回スイング検定結果}
            \vspace{0.5cm}
            \centering
            \begin{tabular}{|c|c|c|c|c|}
                \hline
                \diagbox{}{} & x & y & z & abs \\\hline
                2回 & 20 / 20 & 15 / 20 & 17 / 20 & 19 / 20 \\
                \hline
            \end{tabular}
        \end{table}
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        \begin{table}[tb]
            \caption{M1F_Bの2回スイング検定結果}
            \vspace{0.5cm}
            \centering
            \begin{tabular}{|c|c|c|c|c|}
                \hline
                \diagbox{}{} & x & y & z & abs \\\hline
                2回 & 20 / 20 & 19 / 20 & 18 / 20 & 20 / 20 \\
                \hline
            \end{tabular}
        \end{table}
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        % \begin{table}[tb]
        %     \caption{Pの2回スイング検定結果}
        %     \vspace{0.5cm}
        %     \centering
        %     \begin{tabular}{|c|c|c|c|c|}
        %         \hline
        %         \diagbox{}{} & x & y & z & abs \\\hline
        %         2回 & 20 / 20 & 20 / 20 & 19 / 20 & 20 / 20 \\
        %         \hline
        %     \end{tabular}
        % \end{table}
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\end{document}